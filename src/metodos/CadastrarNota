package metodos;

public class CadastrarNota(){
  
  private VendaDAO vendaDao = daofactoryjdbc.get().vendaDao();
  private ImovelDAO  imoveldao = daofactoryjdbc.get().imovelDao();
  private NotaFiscalDAO nfDao = daofactoryjdbc.get().notaFiscalDAO();
  private Imobiliaria imoDao = DaoFactoryJDBC.get().imobiliariaDao();

//CORRIGIR!!
  public Venda salvarVenda(String horaAgora, Double comissaoImobiliaria, Double comissaoCorretor. Imovel imovelVenda, Cliente clienteProprietario, Corretor corretorResponsavel){
  	Venda venda = new Venda(vendaDao.maiorId()+1, horaAgora, comissaoImobiliaria, comissaoCorretor, imovelVenda, clienteProprietario, CorretorResponsavel); 
  	vendaDao.inserir(venda);
	
  	imovelVenda.setPossui(0);
    imovelDao.alterar(imovelVenda);
	
  	return Venda; 

}

public NotaFiscal gerarNota(Double total, Venda venda){
	Imobiliaria imobiliaria = imodao.buscar(1);
	NotaFiscal nf = new NotaFiscal(nfDao.maiorid()+1, horaAgora, total, imobiliaria, venda);
	nfDao.inserir(nf);	
}



}
